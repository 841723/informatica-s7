/*
 * BSP_aux.c
 *
 *  Created on: Nov 24, 2024
 *      Author: diego
 */
#include <stdint.h>

//#define BSP_TRANSPARENCY 1

void BSP_DisplayImage(uint8_t index, char* pDirectoryFiles[MAX_BMP_FILES], uint8_t ubNumberOfFiles)
{
	char* path;

	sprintf ((char*)path, "/%-11.11s", pDirectoryFiles[index++]);
	uint8_t *uwInternelBuffer= (uint8_t *)0xC0260000;
	Storage_OpenReadFile(uwInternelBuffer, (const char*)path);


	BSP_LCD_SelectLayer(odd);
	BSP_LCD_DrawBitmap(0, 0, uwInternelBuffer);
	BSP_LCD_SetTransparency(odd, 255);

	sprintf ((char*)path, "/%-11.11s", pDirectoryFiles[index]);
	uint8_t *uwInternelBuffer= (uint8_t *)0xC0260000;
	Storage_OpenReadFile(uwInternelBuffer, (const char*)path);

	odd ++;
	odd %=2;

	BSP_LCD_SelectLayer(odd);
	BSP_LCD_DrawBitmap(0, 0, uwInternelBuffer);
	BSP_LCD_SetTransparency(odd,0);

//#if defined(BSP_TRANSPARENCY)
//	uint16_t transparency;
//	for (transparency = 0; transparency < 255; (transparency++))
//	{
//	  BSP_LCD_SetTransparency(1, transparency);
//
//	  /* Insert a delay of display */
//	  HAL_Delay(2);
//	}
//#else
//	BSP_LCD_SetTransparency(1, 255);
//#endif

}
